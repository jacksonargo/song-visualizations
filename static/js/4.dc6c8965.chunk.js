(this["webpackJsonpsong-visualizations"]=this["webpackJsonpsong-visualizations"]||[]).push([[4],{316:function(t,r,e){"use strict";e.d(r,"a",(function(){return i}));var n=e(4);function a(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,n)}return e}function i(t){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?a(Object(e),!0).forEach((function(r){Object(n.a)(t,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):a(Object(e)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}return t}},378:function(t,r,e){"use strict";var n=e(1),a=e(3),i=e(0),c=(e(12),e(7)),o=e(75),u=e(272),s=e(275),l=e(76),f=e(2),d=["className","component"];var b=e(98),p=e(100),g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.defaultTheme,e=t.defaultClassName,b=void 0===e?"MuiBox-root":e,p=t.generateClassName,g=Object(o.a)("div")(u.a),m=i.forwardRef((function(t,e){var i=Object(l.a)(r),o=Object(s.a)(t),u=o.className,m=o.component,h=void 0===m?"div":m,j=Object(a.a)(o,d);return Object(f.jsx)(g,Object(n.a)({as:h,ref:e,className:Object(c.a)(u,p?p(b):b),theme:i},j))}));return m}({defaultTheme:Object(p.a)(),defaultClassName:"MuiBox-root",generateClassName:b.a.generate});r.a=g},399:function(t,r,e){"use strict";e.r(r);var n=e(10),a=e(316),i=e(378),c=e(97),o=e(0),u=e(53),s=e(93),l=e(2);function f(t){var r=Object(o.useRef)(null);return Object(o.useEffect)((function(){var e=function(t){var r=t.width-t.margin.left-t.margin.right,e=t.height-t.margin.top-t.margin.bottom,n=t.rollupData,a="decade",i="distinctArtists",o=c.e([0,r]).domain(Array.from(new Array(7).keys()).map((function(t){return 1950+10*t})).map((function(t){return t.toString()}))).padding(.05),u=c.f([e,0]).domain([0,210]),s=c.d().x((function(t){var r;return(null!==(r=o(t[a].toString()))&&void 0!==r?r:0)+o.bandwidth()/2})).y((function(t){return u(t.distinctArtists)})),l=c.g(t.ref.current).append("svg").attr("viewBox","0 0 ".concat(t.width," ").concat(t.height)),f=l.append("g").attr("transform","translate(".concat(t.margin.left,", ").concat(t.margin.top,")"));return f.selectAll("rect").data(n).join("rect").attr("x",(function(t){var r;return null!==(r=o(t[a].toString()))&&void 0!==r?r:0})).attr("width",(function(){return o.bandwidth()})).attr("y",(function(t){return u(t[i])})).attr("height",(function(t){return e-u(t[i])})).attr("fill","#adc2eb"),f.selectAll(".point").data(n).join("circle").attr("class","point").attr("cx",(function(t){var r;return(null!==(r=o(t[a].toString()))&&void 0!==r?r:0)+o.bandwidth()/2})).attr("cy",(function(t){return u(t[i])})).attr("r",2).attr("fill","black"),f.append("path").datum(n).attr("d",(function(t){return s(t)})).attr("fill","none").attr("class","line").attr("stroke","steelblue").attr("stroke-width",1.5),f.selectAll(".countText").data(n).join("text").text((function(t){return t.distinctArtists})).attr("class","countText").attr("text-anchor","middle").attr("x",(function(t){var r;return(null!==(r=o(t[a].toString()))&&void 0!==r?r:0)+o.bandwidth()/2})).attr("y",(function(t){return u(t[i])-15})),f.append("g").attr("transform","translate(0, ".concat(e,")")).style("font-size","small").call(c.a(o)),l}(Object(a.a)({ref:r},t));return function(){e.remove()}})),Object(l.jsx)("div",{ref:r})}r.default=function(t){var r=Object(u.b)();if(!r)return Object(l.jsx)("p",{children:"Loading..."});var e=s.a.fromBlob(r),a=(Array.from(t.genreToggles.keys()).filter((function(r){return t.genreToggles.get(r)})),function(t){var r=t.map((function(t){return{artist:t.artist,year:new Date(t.album_release_date).getFullYear()}})).map((function(t){return{artist:t.artist,decade:t.year-t.year%10}})),e=c.c(r,(function(t){return t.decade}),(function(t){return t.artist}));return Array.from(e).flatMap((function(t){var r=Object(n.a)(t,2),e=r[0],a=r[1],i=Array.from(a).map((function(t){var r=Object(n.a)(t,2),a=r[0],i=r[1];return{decade:e,artist:a,count:i.length,distinctArtists:1}}));return i.push({decade:e,artist:"",count:i.reduce((function(t,r){return t+r.count}),0),distinctArtists:i.length}),i}))}(e.rows).filter((function(t){return t.distinctArtists>1})).filter((function(t){return 2020!==t.decade})));return a.sort((function(t,r){return t.decade-r.decade})),Object(l.jsxs)(i.a,{children:[Object(l.jsx)("h2",{children:"Top Artists for the Decade"}),Object(l.jsx)(f,{rollupData:a,height:300,width:800,margin:{left:50,top:50,right:20,bottom:20}})]})}}}]);
//# sourceMappingURL=4.dc6c8965.chunk.js.map