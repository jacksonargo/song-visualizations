(this["webpackJsonpsong-visualizations"]=this["webpackJsonpsong-visualizations"]||[]).push([[4],{401:function(t,e,i){"use strict";i.r(e),i.d(e,"TopArtistsByDecadeVis",(function(){return p})),i.d(e,"TopArtistsByDecadeDonutSpec",(function(){return j})),i.d(e,"TopArtistsByDecadeBarsSpec",(function(){return f}));var n=i(9),a=i(5),r=i(40),s=i(398),c=i(396),o=i(61),u=i(39),d=i(391),l=i(123),h=i(6);function p(t){if(!t.show)return Object(h.jsx)(s.a,{});var e=t.dataset.toUniqueArtistsRollup(new l.a(t)).filter((function(t){return""!==t.artist})),i=o.d(e,(function(t){return t.decade})),p=function(t,e){return{decade:t,distinctArtists:0,artist:e,genres:[],count:0}},b=function(t,e){return Object(r.a)(Object(r.a)({},t),{},{count:t.count+e.count,distinctArtists:t.distinctArtists+e.distinctArtists,genres:Object(u.uniq)([].concat(Object(a.a)(t.genres),Object(a.a)(e.genres)))})},O=[],v=[];Array.from(i.entries()).forEach((function(e){var i=Object(n.a)(e,2),r=i[0],s=i[1].sort((function(t,e){return t.count-e.count})).reverse(),c=s.slice(0,t.topN),o=c.reduce(b,p(r,"Top ".concat(t.topN,"\nArtists"))),u=s.slice(t.topN,-1).reduce(b,p(r,"Others"));O.push(u),O.push(o),v.push.apply(v,Object(a.a)(c))}));var m=Object(u.uniq)(v.map((function(t){return t.decade}))).sort();return Object(h.jsx)(s.a,{children:m.map((function(e){return Object(h.jsxs)(c.a,{container:!0,children:[Object(h.jsx)(c.a,{item:!0,xs:12,children:Object(h.jsx)("h3",{children:e})}),Object(h.jsxs)(c.a,{item:!0,md:6,children:[Object(h.jsxs)("h4",{children:["How many tops hits were produced by the top ",t.topN," artists?"]}),Object(h.jsx)(d.a,{width:350,spec:j(Object(r.a)(Object(r.a)({},t),{},{data:O.filter((function(t){return t.decade===e}))}))})]}),Object(h.jsx)(c.a,{item:!0,md:6,children:Object(h.jsx)(d.a,{width:350,spec:f(Object(r.a)(Object(r.a)({},t),{},{data:v.filter((function(t){return t.decade===e}))}))})})]},e)}))})}function j(t){var e,i,n,a=null!==(e=t.radius)&&void 0!==e?e:120,r=null!==(i=t.innerRadius)&&void 0!==i?i:60,s=(a-r)/2+r;return{$schema:"https://vega.github.io/schema/vega-lite/v5.json",layer:[{mark:{type:"arc",tooltip:!0,radius:a,innerRadius:r,padAngle:null!==(n=t.innerRadius)&&void 0!==n?n:.01},encoding:{theta:{type:"quantitative",field:"count",stack:!0},color:{field:"artist",type:"nominal"}}},{mark:{type:"text",radius:s},encoding:{theta:{type:"quantitative",field:"count",stack:!0},text:{type:"nominal",field:"artist"}}}],data:{values:t.data},width:t.width,height:t.height}}function f(t){return{$schema:"https://vega.github.io/schema/vega-lite/v5.json",mark:{type:"bar",tooltip:!0},data:{values:t.data},width:t.width,height:t.height,encoding:{x:{field:"count",type:"quantitative",axis:{title:"Number of Top Hits"}},y:{field:"artist",type:"nominal"},color:{field:"artist",type:"nominal"}}}}e.default=p}}]);
//# sourceMappingURL=4.5bc88e14.chunk.js.map